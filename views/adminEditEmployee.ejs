<!-- views/adminEditEmployee.ejs -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Chỉnh Sửa Nhân Viên</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body class="bg-gray-100 min-h-screen">
  <%- include('partials/adminMenu') %>
  <div class="max-w-xl mx-auto mt-10 bg-white p-8 rounded-lg shadow-lg">
    <h2 class="text-2xl font-semibold mb-6 text-gray-800">Chỉnh Sửa Nhân Viên</h2>
    <% if (error) { %>
      <div class="bg-red-100 text-red-700 p-3 rounded mb-4"><%= error %></div>
    <% } %>
    <form action="/admin/employee-list/<%= emp._id %>/edit" method="POST" enctype="multipart/form-data" class="space-y-5">
      <div>
        <label class="block text-gray-700 font-medium mb-1">Tên đăng nhập</label>
        <input name="username" value="<%= emp.username %>" required class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"/>
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-1">Mật khẩu</label>
        <input name="password" type="text" value="<%= emp.password %>" required class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"/>
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-1">Họ tên</label>
        <input name="name" value="<%= emp.name %>" required class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"/>
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-1">Số tài khoản ngân hàng</label>
        <input name="accountNumber" value="<%= emp.accountNumber %>" required class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"/>
      </div>
      <div>
        <label class="block text-gray-700 font-medium mb-1">Ảnh đại diện hiện tại</label>
        <div class="mb-2">
          <img src="/uploads/<%= emp.avatar || 'default-avatar.png' %>" class="h-20 w-20 rounded-full object-cover"/>
        </div>
        <label class="block text-gray-700 font-medium mb-1">Thay đổi ảnh đại diện</label>
        <input type="file" name="avatar" accept="image/*" class="w-full"/>
      </div>
      <button type="submit" class="w-full bg-green-500 text-white py-2 rounded hover:bg-green-600 transition">
        <i class="fas fa-save mr-2"></i>Lưu Thay Đổi
      </button>
    </form>
  </div>
</body>
</html>
